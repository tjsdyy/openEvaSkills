<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å°çº¢ä¹¦çˆ†æ¬¾å›¾æ–‡ç”Ÿæˆå™¨ - Portal</title>
  <script src="openeva-portal://_libs/react.production.min.js"></script>
  <script src="openeva-portal://_libs/react-dom.production.min.js"></script>
  <script src="openeva-portal://_libs/babel.min.js"></script>
  <style>
    :root {
      --bg: #ffffff; --fg: #1a1a2e; --muted: #6b7280; --border: #e5e7eb;
      --accent: #ff2442; --accent-hover: #e6102e; --card: #f9fafb;
      --tag-bg: #f3f4f6; --tag-fg: #4b5563;
      --preview-bg: linear-gradient(135deg, #1e1e2e 0%, #2d2b55 50%, #3e3a5f 100%);
    }
    .dark {
      --bg: #0f0f23; --fg: #e5e7eb; --muted: #9ca3af; --border: #374151;
      --accent: #ff4d6a; --accent-hover: #ff2442; --card: #1a1a2e;
      --tag-bg: #1f2937; --tag-fg: #9ca3af;
      --preview-bg: linear-gradient(135deg, #0a0a1a 0%, #1a1840 50%, #2a2845 100%);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg); color: var(--fg);
    }
    .portal { max-width: 900px; margin: 0 auto; padding: 24px 20px; }

    /* Header */
    .header { margin-bottom: 28px; }
    .header h1 { font-size: 24px; font-weight: 700; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
    .header p { font-size: 13px; color: var(--muted); line-height: 1.6; max-width: 600px; }
    .stats { display: flex; gap: 20px; margin-top: 14px; }
    .stat { font-size: 12px; color: var(--muted); display: flex; flex-direction: column; align-items: center; }
    .stat strong { color: var(--fg); font-size: 18px; }

    /* Tags */
    .tags { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 24px; }
    .tag {
      padding: 5px 14px; border-radius: 14px; border: 1px solid var(--border);
      font-size: 12px; cursor: pointer; background: transparent;
      color: var(--muted); transition: all 0.2s;
    }
    .tag:hover { border-color: var(--accent); color: var(--fg); }
    .tag.active { background: var(--accent); color: #fff; border-color: var(--accent); }

    /* Cards */
    .cards { display: flex; flex-direction: column; gap: 24px; }
    .card {
      border: 1px solid var(--border); border-radius: 16px;
      overflow: hidden; background: var(--card);
    }
    .card-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 18px; border-bottom: 1px solid var(--border);
    }
    .card-title { font-size: 15px; font-weight: 600; }
    .card-tag {
      padding: 3px 10px; border-radius: 10px; font-size: 11px;
      background: var(--tag-bg); color: var(--tag-fg);
    }
    .card-body { display: flex; min-height: 200px; }
    .card-preview {
      width: 200px; min-width: 200px; background: var(--preview-bg);
      display: flex; align-items: center; justify-content: center;
      padding: 12px; position: relative; overflow: hidden;
    }
    .mini-card {
      width: 120px; height: 160px; background: #F9F9F6; border-radius: 0;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      padding: 8px; display: flex; flex-direction: column; gap: 4px;
    }
    .mini-cover {
      width: 100%; height: 55px; border-radius: 0; overflow: hidden;
    }
    .mini-cover svg { width: 100%; height: 100%; }
    .mini-title {
      font-size: 7px; font-weight: 700; color: #000; line-height: 1.2;
      font-family: 'Noto Serif SC', serif;
    }
    .mini-lines { flex: 1; display: flex; flex-direction: column; gap: 2px; justify-content: flex-start; padding-top: 2px; }
    .mini-line {
      height: 2px; background: #ddd; border-radius: 1px;
    }
    .card-content {
      flex: 1; padding: 14px 18px; font-size: 13px; line-height: 1.7;
      color: var(--fg); display: flex; flex-direction: column; gap: 8px;
    }
    .card-desc { color: var(--muted); font-size: 12px; }
    .card-excerpt {
      background: var(--tag-bg); padding: 10px 12px; border-radius: 8px;
      font-size: 12px; line-height: 1.6; color: var(--fg);
      max-height: 120px; overflow-y: auto;
    }
    .card-footer {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 18px; border-top: 1px solid var(--border);
    }
    .card-meta { font-size: 11px; color: var(--muted); display: flex; gap: 12px; }
    .try-btn {
      padding: 6px 18px; border: none; border-radius: 10px;
      font-size: 12px; font-weight: 600; cursor: pointer;
      background: var(--accent); color: #fff; transition: background 0.2s;
    }
    .try-btn:hover { background: var(--accent-hover); }
    .count-info { font-size: 12px; color: var(--muted); margin-top: 20px; text-align: center; }

    @media (max-width: 600px) {
      .card-body { flex-direction: column; }
      .card-preview { width: 100%; min-width: unset; height: 140px; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    const EXAMPLES = [
      {
        id: 1,
        title: 'ç§‘æŠ€è¶‹åŠ¿è§£è¯»',
        category: 'tech',
        tags: ['tech', 'trending'],
        desc: 'ç§‘æŠ€è¡Œä¸šæ·±åº¦åˆ†ææ–‡ç« ï¼Œé€‚åˆçŸ¥è¯†ç±»åšä¸»',
        content: '# AI æ­£åœ¨æ”¹å˜æˆ‘ä»¬çš„å·¥ä½œæ–¹å¼\n\n2024 å¹´ï¼Œäººå·¥æ™ºèƒ½ä¸å†æ˜¯é¥è¿œçš„æœªæ¥æ¦‚å¿µã€‚ä»ä»£ç ç¼–å†™åˆ°æ–‡æ¡ˆåˆ›ä½œï¼ŒAI å·¥å…·å·²ç»æ·±å…¥æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œæµã€‚\n\n## ä¸‰ä¸ªå…³é”®å˜åŒ–\n\n1. **æ•ˆç‡æå‡**ï¼šé‡å¤æ€§å·¥ä½œè¢«è‡ªåŠ¨åŒ–ï¼Œè®©äººç±»ä¸“æ³¨äºåˆ›é€ æ€§ä»»åŠ¡\n2. **åä½œæ¨¡å¼**ï¼šäººæœºåä½œæˆä¸ºæ–°å¸¸æ€\n3. **æŠ€èƒ½è¿ç§»**ï¼šå­¦ä¼šä¸ AI åä½œæˆä¸ºæ ¸å¿ƒç«äº‰åŠ›\n\n> æœªæ¥ä¸æ˜¯ AI å–ä»£äººç±»ï¼Œè€Œæ˜¯ä¼šç”¨ AI çš„äººå–ä»£ä¸ä¼šç”¨çš„äººã€‚',
        coverColor: '#6366f1',
        coverIcon: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5',
        charCount: 180,
        readTime: '2 min'
      },
      {
        id: 2,
        title: 'ç”Ÿæ´»æ–¹å¼åˆ†äº«',
        category: 'lifestyle',
        tags: ['lifestyle', 'wellness'],
        desc: 'å¥åº·ç”Ÿæ´»æ–¹å¼ç±»å†…å®¹ï¼Œé«˜äº’åŠ¨ç‡è¯é¢˜',
        content: '# æ—©èµ·çš„ 100 å¤©ï¼Œæˆ‘çš„ç”Ÿæ´»å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–\n\nä»ä¸€ä¸ªæ¯å¤©èµ–åºŠåˆ°æœ€åä¸€åˆ»çš„äººï¼Œåˆ°ç°åœ¨æ¯å¤© 5:30 è‡ªç„¶é†’ã€‚è¿™ 100 å¤©çš„å˜åŒ–ï¼Œæ¯”æˆ‘æƒ³è±¡çš„è¦å¤§å¾—å¤šã€‚\n\n## èº«ä½“å˜åŒ–\n\nçš®è‚¤å˜å¥½äº†ï¼Œé»‘çœ¼åœˆæ·¡äº†ï¼Œä½“é‡ä¹Ÿè‡ªç„¶é™äº† 3 å…¬æ–¤ã€‚ä¸æ˜¯å› ä¸ºåˆ»æ„èŠ‚é£Ÿï¼Œè€Œæ˜¯æ—©èµ·åæœ‰æ—¶é—´å¥½å¥½åƒæ—©é¤ï¼Œåè€Œä¸ä¼šæš´é¥®æš´é£Ÿã€‚\n\n## å¿ƒæ€å˜åŒ–\n\næ¯å¤©å¤šå‡ºæ¥çš„ 2 å°æ—¶ï¼Œæ˜¯å®Œå…¨å±äºè‡ªå·±çš„æ—¶é—´ã€‚æ²¡æœ‰æ¶ˆæ¯æ‰“æ‰°ï¼Œæ²¡æœ‰å·¥ä½œå‹åŠ›ï¼Œå°±æ˜¯å®‰å®‰é™é™åœ°è¯»ä¹¦ã€å†™å­—ã€æ€è€ƒã€‚\n\n**æœ€å¤§çš„æ”¶è·ä¸æ˜¯æ•ˆç‡ï¼Œè€Œæ˜¯æŒæ§æ„Ÿã€‚**',
        coverColor: '#f59e0b',
        coverIcon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
        charCount: 250,
        readTime: '3 min'
      },
      {
        id: 3,
        title: 'èŒåœºå¹²è´§',
        category: 'career',
        tags: ['career', 'trending'],
        desc: 'èŒåœºç»éªŒæ€»ç»“ï¼Œå®¹æ˜“å¼•å‘å…±é¸£å’Œæ”¶è—',
        content: '# å·¥ä½œ 5 å¹´ï¼Œæˆ‘æ‰æ˜ç™½çš„ 7 ä»¶äº‹\n\nåˆšæ¯•ä¸šæ—¶ä»¥ä¸ºåŠªåŠ›å°±å¤Ÿäº†ï¼Œåæ¥å‘ç°èŒåœºçš„è§„åˆ™è¿œæ¯”æƒ³è±¡çš„å¤æ‚ã€‚\n\n## 1. é€‰æ‹©æ¯”åŠªåŠ›é‡è¦\n\nè¡Œä¸šçš„å¤©èŠ±æ¿å†³å®šäº†ä½ çš„ä¸Šé™ã€‚åœ¨å¤•é˜³è¡Œä¸šå†åŠªåŠ›ï¼Œä¹Ÿä¸å¦‚åœ¨æœé˜³è¡Œä¸šåšåˆ°åŠæ ¼ã€‚\n\n## 2. å‘ä¸Šç®¡ç†æ˜¯å¿…ä¿®è¯¾\n\nä¸æ˜¯æ‹é©¬å±ï¼Œè€Œæ˜¯è®©é¢†å¯¼çŸ¥é“ä½ åœ¨åšä»€ä¹ˆã€åšå¾—æ€ä¹ˆæ ·ã€‚**ä¸»åŠ¨æ±‡æŠ¥**æ¯”è¢«åŠ¨ç­‰å¾…é‡è¦ 10 å€ã€‚\n\n## 3. äººè„‰ä¸æ˜¯åŠ å¾®ä¿¡\n\nçœŸæ­£æœ‰ç”¨çš„äººè„‰æ˜¯ä½ èƒ½ä¸ºå¯¹æ–¹æä¾›ä»·å€¼ã€‚å…ˆæƒ³æƒ³ä½ èƒ½å¸®åˆ«äººä»€ä¹ˆï¼Œå†æƒ³åˆ«äººèƒ½å¸®ä½ ä»€ä¹ˆã€‚\n\n> èŒåœºçš„æœ¬è´¨æ˜¯ä»·å€¼äº¤æ¢ã€‚',
        coverColor: '#10b981',
        coverIcon: 'M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
        charCount: 220,
        readTime: '3 min'
      },
      {
        id: 4,
        title: 'è¯»ä¹¦ç¬”è®°',
        category: 'reading',
        tags: ['reading', 'knowledge'],
        desc: 'ä¹¦è¯„å’Œè¯»ä¹¦ç¬”è®°ï¼ŒçŸ¥è¯†ç±»å°çº¢ä¹¦é«˜æ”¶è—ç‡å†…å®¹',
        content: '# ã€Šçº³ç“¦å°”å®å…¸ã€‹è¯»ä¹¦ç¬”è®°\n\nè¿™æœ¬ä¹¦æ”¹å˜äº†æˆ‘å¯¹è´¢å¯Œå’Œå¹¸ç¦çš„ç†è§£ã€‚\n\n## å…³äºè´¢å¯Œ\n\nçº³ç“¦å°”è¯´ï¼š**"å¯»æ‰¾è´¢å¯Œï¼Œè€Œä¸æ˜¯é‡‘é’±æˆ–åœ°ä½ã€‚"** è´¢å¯Œæ˜¯åœ¨ä½ ç¡è§‰æ—¶ä»ç„¶ä¸ºä½ èµšé’±çš„èµ„äº§ã€‚\n\næ ¸å¿ƒè§‚ç‚¹ï¼š\n- ç”¨ç‰¹å®šçŸ¥è¯†ã€è´£ä»»æ„Ÿå’Œæ æ†æ­¦è£…è‡ªå·±\n- ç‰¹å®šçŸ¥è¯†æ˜¯é‚£äº›æ— æ³•é€šè¿‡åŸ¹è®­è·å¾—çš„çŸ¥è¯†\n- ä»£ç å’Œåª’ä½“æ˜¯é›¶è¾¹é™…æˆæœ¬çš„æ æ†\n\n## å…³äºå¹¸ç¦\n\n> å¹¸ç¦æ˜¯ä¸€ç§æŠ€èƒ½ï¼Œå¯ä»¥é€šè¿‡è®­ç»ƒè·å¾—ã€‚\n\nä¸æ˜¯ç­‰åˆ°æ‹¥æœ‰ä¸€åˆ‡æ‰å¿«ä¹ï¼Œè€Œæ˜¯å­¦ä¼šåœ¨å½“ä¸‹æ‰¾åˆ°å¹³é™ã€‚\n\n**æ¨èæŒ‡æ•°ï¼š** 9/10',
        coverColor: '#8b5cf6',
        coverIcon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',
        charCount: 200,
        readTime: '2 min'
      },
      {
        id: 5,
        title: 'ç¾é£Ÿæ•™ç¨‹',
        category: 'food',
        tags: ['food', 'lifestyle'],
        desc: 'ç¾é£Ÿåˆ¶ä½œæ•™ç¨‹ï¼Œå°çº¢ä¹¦é«˜çƒ­åº¦å“ç±»',
        content: '# é›¶å¤±è´¥ï¼5 åˆ†é’Ÿæå®šæ—¥å¼æºå¿ƒè›‹\n\nè¯•è¿‡æ— æ•°æ–¹å­ï¼Œç»ˆäºæ‰¾åˆ°æœ€ç¨³å®šçš„é…æ–¹ã€‚æ¯æ¬¡éƒ½æ˜¯å®Œç¾æºå¿ƒï¼Œæ–°æ‰‹ä¹Ÿèƒ½ä¸€æ¬¡æˆåŠŸã€‚\n\n## ææ–™\n\n- é¸¡è›‹ 6 ä¸ªï¼ˆå¸¸æ¸©ï¼‰\n- é…±æ²¹ 3 å¤§å‹º\n- å‘³é†‚ 2 å¤§å‹º\n- æ¸…æ°´ 100ml\n- è’œ 2 ç“£ï¼ˆæ‹æ‰ï¼‰\n\n## æ­¥éª¤\n\n1. æ°´ç…®æ²¸åæ”¾å…¥é¸¡è›‹ï¼Œ**ä¸­ç«ç…® 6 åˆ† 30 ç§’**ï¼ˆè¿™æ˜¯å…³é”®ï¼ï¼‰\n2. ç«‹åˆ»æå‡ºæ”¾å…¥å†°æ°´ä¸­å†·å´ 5 åˆ†é’Ÿ\n3. å‰¥å£³ï¼Œæ”¾å…¥è°ƒå¥½çš„é…±æ±ä¸­\n4. å†·è—è…Œåˆ¶ 4 å°æ—¶ä»¥ä¸Šï¼Œè¿‡å¤œæœ€ä½³\n\n> å°è´´å£«ï¼šé¸¡è›‹ä¸€å®šè¦å¸¸æ¸©ï¼Œå†·è—çš„é¸¡è›‹ä¼šå¯¼è‡´æ—¶é—´ä¸å‡†ã€‚\n\n**æºå¿ƒç¨‹åº¦å¯ä»¥é€šè¿‡è°ƒæ•´ç…®åˆ¶æ—¶é—´æ§åˆ¶ï¼š**\n- 6 åˆ†é’Ÿ = æµå¿ƒ\n- 6 åˆ† 30 ç§’ = æºå¿ƒ\n- 7 åˆ†é’Ÿ = åŠç†Ÿ',
        coverColor: '#ef4444',
        coverIcon: 'M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0-6C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z',
        charCount: 280,
        readTime: '3 min'
      },
    ];

    const ALL_TAGS = ['tech', 'lifestyle', 'career', 'reading', 'food', 'trending', 'wellness', 'knowledge'];

    const TAG_LABELS = {
      tech: 'ç§‘æŠ€', lifestyle: 'ç”Ÿæ´»', career: 'èŒåœº', reading: 'è¯»ä¹¦',
      food: 'ç¾é£Ÿ', trending: 'çƒ­é—¨', wellness: 'å¥åº·', knowledge: 'çŸ¥è¯†'
    };

    function MiniCardSVG({ color, iconPath }) {
      return (
        <svg viewBox="0 0 104 55" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="104" height="55" fill={color} opacity="0.15" />
          <rect x="20" y="8" width="64" height="40" rx="4" fill={color} opacity="0.25" />
          <g transform="translate(40, 15.5)" stroke={color} strokeWidth="1.5" fill="none" strokeLinecap="round" strokeLinejoin="round">
            <path d={iconPath} transform="scale(1)" />
          </g>
        </svg>
      );
    }

    function App() {
      const [isDark, setIsDark] = useState(false);
      const [activeTag, setActiveTag] = useState(null);

      useEffect(() => {
        const reqId = crypto.randomUUID();
        function onMsg(e) {
          if (e.data?.type === 'openeva:theme' && e.data.requestId === reqId) {
            setIsDark(e.data.payload?.mode === 'dark');
            window.removeEventListener('message', onMsg);
          }
        }
        window.addEventListener('message', onMsg);
        window.parent.postMessage({ type: 'openeva:getTheme', requestId: reqId }, '*');
        return () => window.removeEventListener('message', onMsg);
      }, []);

      useEffect(() => {
        document.documentElement.className = isDark ? 'dark' : '';
      }, [isDark]);

      const filtered = useMemo(() => {
        if (!activeTag) return EXAMPLES;
        return EXAMPLES.filter(ex => ex.tags.includes(activeTag));
      }, [activeTag]);

      function handleTry(example) {
        window.parent.postMessage({
          type: 'openeva:use',
          payload: {
            form: true,
            formValues: {
              content: example.content,
              coverStyle: 'new-yorker',
              cardCount: 'auto'
            }
          }
        }, '*');
      }

      return (
        <div className="portal">
          <div className="header">
            <h1><span>ğŸ“•</span> å°çº¢ä¹¦çˆ†æ¬¾å›¾æ–‡ç”Ÿæˆå™¨</h1>
            <p>å°†æ–‡ç« å†…å®¹ä¸€é”®è½¬æ¢ä¸ºç²¾ç¾çš„å°çº¢ä¹¦é£æ ¼å›¾æ–‡å¡ç‰‡ã€‚600x800px æ·±è‰²èƒŒæ™¯ç±³ç™½å¡ç‰‡ï¼Œè‡ªå¸¦å°é¢æ’ç”»ï¼Œæ”¯æŒå¤šç§å†…å®¹ç±»å‹ã€‚</p>
            <div className="stats">
              <div className="stat"><strong>600x800</strong>å¡ç‰‡å°ºå¯¸</div>
              <div className="stat"><strong>4</strong>å°é¢é£æ ¼</div>
              <div className="stat"><strong>SVG</strong>å†…è”æ’ç”»</div>
              <div className="stat"><strong>å¤šå¼ </strong>è‡ªåŠ¨æ‹†åˆ†</div>
            </div>
          </div>

          <div className="tags">
            <button
              className={`tag ${!activeTag ? 'active' : ''}`}
              onClick={() => setActiveTag(null)}
            >å…¨éƒ¨</button>
            {ALL_TAGS.map(t => (
              <button
                key={t}
                className={`tag ${activeTag === t ? 'active' : ''}`}
                onClick={() => setActiveTag(activeTag === t ? null : t)}
              >{TAG_LABELS[t] || t}</button>
            ))}
          </div>

          <div className="cards">
            {filtered.map(ex => (
              <div key={ex.id} className="card">
                <div className="card-header">
                  <span className="card-title">{ex.title}</span>
                  <span className="card-tag">{TAG_LABELS[ex.category] || ex.category}</span>
                </div>
                <div className="card-body">
                  <div className="card-preview">
                    <div className="mini-card">
                      <div className="mini-cover">
                        <MiniCardSVG color={ex.coverColor} iconPath={ex.coverIcon} />
                      </div>
                      <div className="mini-title">{ex.content.split('\n')[0].replace('# ', '')}</div>
                      <div className="mini-lines">
                        <div className="mini-line" style={{width: '100%'}} />
                        <div className="mini-line" style={{width: '85%'}} />
                        <div className="mini-line" style={{width: '92%'}} />
                        <div className="mini-line" style={{width: '70%'}} />
                        <div className="mini-line" style={{width: '88%'}} />
                      </div>
                    </div>
                  </div>
                  <div className="card-content">
                    <div className="card-desc">{ex.desc}</div>
                    <div className="card-excerpt">
                      {ex.content.split('\n').slice(0, 6).join('\n')}
                    </div>
                  </div>
                </div>
                <div className="card-footer">
                  <div className="card-meta">
                    <span>{ex.charCount} å­—</span>
                    <span>{ex.readTime}</span>
                  </div>
                  <button className="try-btn" onClick={() => handleTry(ex)}>
                    è¯•ä¸€è¯•
                  </button>
                </div>
              </div>
            ))}
          </div>

          <div className="count-info">
            {filtered.length} / {EXAMPLES.length} ä¸ªç¤ºä¾‹
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
